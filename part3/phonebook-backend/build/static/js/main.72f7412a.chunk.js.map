{"version":3,"sources":["components/Filter.js","components/Notification.js","components/PersonForm.js","components/Person.js","components/Persons.js","services/persons.js","App.js","index.js"],"names":["Filter","value","onChange","Notification","success","message","successStyle","color","background","fontSize","borderStyle","borderRadius","padding","marginBottom","errorStyle","style","PersonForm","name","number","onSubmit","onNameChange","onNumberChange","type","Person","person","handleDelete","onClick","id","Persons","persons","map","API_BASE_URL","getAll","a","axios","get","res","data","create","newPerson","post","deletePerson","delete","update","put","methods","App","useState","setPersons","newName","setNewName","newNumber","setNewNumber","searchName","setSearchName","toast","setToast","useEffect","personService","then","initialPersons","catch","console","error","showNotification","ms","setTimeout","personsToShow","filter","toLowerCase","includes","event","target","preventDefault","found","find","p","window","confirm","returnedPerson","_","concat","alert","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.72f7412a.chunk.js","sourcesContent":["import React from 'react'\r\n\r\nconst Filter = ({ value, onChange }) => (\r\n  <div>\r\n    filter shown with\r\n    <input value={value} onChange={onChange} />\r\n  </div>\r\n)\r\n\r\nexport default Filter\r\n","import React from 'react'\r\n\r\nconst Notification = ({ success = true, message }) => {\r\n  const successStyle = {\r\n    color: 'green',\r\n    background: 'lightgrey',\r\n    fontSize: '20px',\r\n    borderStyle: 'solid',\r\n    borderRadius: '5px',\r\n    padding: '10px',\r\n    marginBottom: '10px'\r\n  }\r\n\r\n  const errorStyle = {\r\n    ...successStyle,\r\n    color: 'red'\r\n  }\r\n\r\n  return (\r\n    <>\r\n      {message && (\r\n        <div style={success ? successStyle : errorStyle}>\r\n          {message}\r\n        </div >\r\n      )}\r\n    </>\r\n  )\r\n}\r\n\r\nexport default Notification\r\n","import React from 'react'\r\n\r\nconst PersonForm = ({ name, number, onSubmit, onNameChange, onNumberChange }) => (\r\n  <form onSubmit={onSubmit}>\r\n    <div>\r\n      name: <input value={name} onChange={onNameChange} />\r\n    </div>\r\n    <div>\r\n      number: <input value={number} onChange={onNumberChange} />\r\n    </div>\r\n    <div>\r\n      <button type=\"submit\">add</button>\r\n    </div>\r\n  </form>\r\n)\r\n\r\nexport default PersonForm\r\n","import React from 'react'\r\n\r\nconst Person = ({ person, handleDelete }) => (\r\n  <div key={person.id}>\r\n    {person.name} {person.number}\r\n    <button onClick={() => handleDelete(person)}>delete</button>\r\n  </div>\r\n)\r\n\r\nexport default Person\r\n","import React from 'react'\r\nimport Person from './Person'\r\n\r\nconst Persons = ({ persons, handleDelete }) => (\r\n  <>\r\n    {persons.map(person =>\r\n      <Person key={person.id} person={person} handleDelete={handleDelete} />\r\n    )}\r\n  </>\r\n)\r\n\r\nexport default Persons\r\n","import axios from 'axios'\r\n\r\nconst API_BASE_URL = '/api/persons'\r\n\r\nconst getAll = async () => {\r\n  const res = await axios.get(API_BASE_URL)\r\n  return res.data\r\n}\r\n\r\nconst create = async (newPerson) => {\r\n  const res = await axios.post(API_BASE_URL, newPerson)\r\n  return res.data\r\n}\r\n\r\nconst deletePerson = async (id) => {\r\n  return await axios.delete(`${API_BASE_URL}/${id}`)\r\n}\r\n\r\nconst update = async (id, newPerson) => {\r\n  const res = await axios.put(`${API_BASE_URL}/${id}`, newPerson)\r\n  return res.data\r\n}\r\n\r\nconst methods = { getAll, create, deletePerson, update }\r\nexport default methods\r\n","import React, { useEffect, useState } from 'react'\nimport Filter from './components/Filter'\nimport Notification from './components/Notification'\nimport PersonForm from './components/PersonForm'\nimport Persons from './components/Persons'\nimport personService from './services/persons'\n\nconst App = () => {\n  const [persons, setPersons] = useState([])\n  const [newName, setNewName] = useState('')\n  const [newNumber, setNewNumber] = useState('')\n  const [searchName, setSearchName] = useState('')\n  const [toast, setToast] = useState({ success: true, message: '' })\n\n  useEffect(() => {\n    personService\n      .getAll()\n      .then(initialPersons => {\n        setPersons(initialPersons)\n      })\n      .catch(console.error)\n  }, [])\n\n  const handleNameChange = (event) => {\n    setNewName(event.target.value)\n  }\n\n  const handleNumberChange = (event) => {\n    setNewNumber(event.target.value)\n  }\n\n  const handleSearchNameChange = (event) => {\n    setSearchName(event.target.value)\n  }\n\n  const showNotification = (success = true, message, ms = 5000) => {\n    setToast({ success, message })\n    setTimeout(() => setToast({ ...toast, message: '' }), ms)\n  }\n\n  const addPerson = (event) => {\n    event.preventDefault()\n\n    if (!newName || !newNumber) {\n      alert(`Please fill out name and number.`)\n      return\n    }\n\n    const found = persons.find(p => p.name === newName)\n    if (found) {\n      if (window.confirm(`${newName} is already added to the phonebook, replace the old number with a new one?`)) {\n        const newPerson = { ...found, number: newNumber }\n        personService\n          .update(found.id, newPerson)\n          .then(returnedPerson => {\n            setPersons(\n              persons.map(p => p.id === returnedPerson.id ? returnedPerson : p)\n            )\n\n            showNotification(true, `Changed number for ${returnedPerson.name}`)\n            setNewName('')\n            setNewNumber('')\n          })\n          .catch(_ => showNotification(false, `${found.name} is not found`))\n      }\n\n    } else {\n      personService\n        .create({ name: newName, number: newNumber })\n        .then(person => {\n          setPersons(persons.concat(person))\n\n          showNotification(true, `Added ${person.name}`)\n          setNewName('')\n          setNewNumber('')\n        }).catch(console.error)\n    }\n  }\n\n  const deletePerson = (person) => {\n    const { name, id } = person\n    if (window.confirm(`Delete ${name}?`)) {\n      personService\n        .deletePerson(id)\n        .then(() => {\n          setPersons(persons.filter(p => p.id !== id))\n\n          showNotification(true, `Deleted ${name}`)\n        })\n        .catch(_ => showNotification(false, `${name} is not found`))\n    }\n  }\n\n  const personsToShow = !searchName\n    ? persons\n    : persons.filter(person =>\n      person.name\n        .toLowerCase()\n        .includes(searchName.toLowerCase())\n    )\n\n  return (\n    <>\n      <h2>Phonebook</h2>\n\n      <Notification success={toast.success} message={toast.message} />\n\n      <Filter value={searchName} onChange={handleSearchNameChange} />\n\n      <h2>add a new</h2>\n\n      <PersonForm\n        name={newName}\n        number={newNumber}\n        onNameChange={handleNameChange}\n        onNumberChange={handleNumberChange}\n        onSubmit={addPerson}\n      />\n\n      <h2>Numbers</h2>\n\n      <Persons persons={personsToShow} handleDelete={deletePerson} />\n    </>\n  )\n}\n\nexport default App\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './App'\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n)\n"],"sourceRoot":""}